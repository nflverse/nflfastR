<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An R package to quickly obtain clean and tidy NFL play by play data • nflfastR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="An R package to quickly obtain clean and tidy NFL play by play data">
<meta property="og:description" content="A set of functions to access National Football
    League play-by-play data from &lt;https://www.nfl.com/&gt;.">
<meta property="og:image" content="https://raw.githubusercontent.com/mrcaseb/nflfastR/master/man/figures/card.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@nflfastR">
<meta name="twitter:site" content="@nflfastR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-8FNRBBEHML"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8FNRBBEHML');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">nflfastR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.0.9012</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/nflfastR.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/beginners_guide.html">A beginner’s guide to nflfastR</a>
    </li>
    <li>
      <a href="articles/field_descriptions.html">Field Descriptions</a>
    </li>
    <li>
      <a href="https://www.opensourcefootball.com/posts/2020-09-28-nflfastr-ep-wp-and-cp-models/">nflfastR models</a>
    </li>
    <li>
      <a href="https://www.opensourcefootball.com/">Open Source Football</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/guga31bb/nflfastR-data">
    <span class="fas fa-database fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://rbsdm.com/stats/">
    <span class="fas fa-chart-line fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://nflgamedata.com/">
    <span class="fas fa-football-ball fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/nflfastR">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://discord.com/invite/5Er2FBnnQa">
    <span class="fab fa-discord fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/mrcaseb/nflfastR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="nflfastr-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#nflfastr-" class="anchor"></a><strong>nflfastR</strong> <img src="reference/figures/logo.png" align="right" width="25%" min-width="120px">
</h1></div>
<!-- badges: start -->

<p><code>nflfastR</code> is a set of functions to efficiently scrape NFL play-by-play data. <code>nflfastR</code> expands upon the features of nflscrapR:</p>
<ul>
<li>The package contains NFL play-by-play data back to 1999</li>
<li>As suggested by the package name, it obtains games <strong>much</strong> faster</li>
<li>Includes completion probability (<code>cp</code>), completion percentage over expected (<code>cpoe</code>), and expected yards after the catch (<code>xyac_epa</code> and <code>xyac_mean_yardage</code>) in play-by-play going back to 2006</li>
<li>Includes drive information, including drive starting position and drive result</li>
<li>Includes series information, including series number and series success</li>
<li>Hosts <a href="https://github.com/guga31bb/nflfastR-data">a repository of play-by-play data going back to 1999</a> for very quick access</li>
<li>Features models for Expected Points, Win Probability, Completion Probability, and Yards After the Catch (see section below)</li>
<li>Includes a function <code><a href="reference/update_db.html">update_db()</a></code> that creates and updates a database</li>
</ul>
<p>We owe a debt of gratitude to the original <a href="https://github.com/maksimhorowitz/nflscrapR"><code>nflscrapR</code></a> team, Maksim Horowitz, Ronald Yurko, and Samuel Ventura, without whose contributions and inspiration this package would not exist.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The easiest way to get nflfastR is to install it from <a href="https://cran.r-project.org/package=nflfastR">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"nflfastR"</span><span class="op">)</span></code></pre></div>
<p>To get a bug fix or to use a feature from the development version, you can install the development version of nflfastR from <a href="https://github.com/mrcaseb/nflfastR/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"mrcaseb/nflfastR"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>We have provided some application examples in the <strong><a href="https://www.nflfastr.com/articles/nflfastR.html">Getting Started</a></strong> article. However, these require a basic knowledge of R. For this reason we have the <strong><a href="https://www.nflfastr.com/articles/beginners_guide.html">nflfastR beginner’s guide</a></strong>, which we recommend to all those who are looking for an introduction to nflfastR with R.</p>
<p>You can find column names and descriptions in the <strong><a href="https://www.nflfastr.com/articles/field_descriptions.html">Field Descriptions</a></strong> article, or by accessing the <code>field_descriptions</code> dataframe from the package.</p>
</div>
<div id="data-repository" class="section level2">
<h2 class="hasAnchor">
<a href="#data-repository" class="anchor"></a>Data repository</h2>
<p>Even though <code>nflfastR</code> is very fast, <strong>for historical games we recommend downloading the data from <a href="https://github.com/guga31bb/nflfastR-data">here</a></strong>. These data sets include play-by-play data of complete seasons going back to 1999 and we will update them in 2020 once the season starts. The files contain both regular season and postseason data, and one can use game_type or week to figure out which games occurred in the postseason. Data are available as .csv.gz, .parquet, or .rds.</p>
</div>
<div id="nflfastr-models" class="section level2">
<h2 class="hasAnchor">
<a href="#nflfastr-models" class="anchor"></a>nflfastR models</h2>
<p><code>nflfastR</code> uses its own models for Expected Points, Win Probability, Completion Probability, and Expected Yards After the Catch. To read about the models, please see <a href="https://www.opensourcefootball.com/posts/2020-09-28-nflfastr-ep-wp-and-cp-models/">this post on Open Source Football</a>. For a more detailed description of the motivation for Expected Points models, we highly recommend this paper <a href="https://arxiv.org/pdf/1802.00998.pdf">from the nflscrapR team located here</a>.</p>
<p>Here is a visualization of the Expected Points model by down and yardline.</p>
<p><img src="https://github.com/mrcaseb/nflfastR/raw/master/man/figures/readme-epa-model-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>Here is a visualization of the Completion Probability model by air yards and pass direction.</p>
<p><img src="https://github.com/mrcaseb/nflfastR/raw/master/man/figures/readme-cp-model-1.png" width="100%" style="display: block; margin: auto;"></p>
<p><code>nflfastR</code> includes two win probability models: one with and one without incorporating the pre-game spread.</p>
</div>
<div id="special-thanks" class="section level2">
<h2 class="hasAnchor">
<a href="#special-thanks" class="anchor"></a>Special thanks</h2>
<ul>
<li>To Nick Shoemaker for <a href="https://github.com/CroppedClamp/nfl_pbps">finding and making available JSON-formatted NFL play-by-play back to 1999</a> (<code>nflfastR</code> uses this source for 1999 and 2000 and previously also used it for 2001-2010)</li>
<li>To Lau Sze Yui for developing a scraping function to access JSON-formatted NFL play-by-play beginning in 2001</li>
<li>To Aaron Schatz and Football Outsiders for providing charting data to correctly mark scrambles in the 2005 season</li>
<li>To Lee Sharpe for curating a resource for game information</li>
<li>To Timo Riske, Lau Sze Yui, Sean Clement, and Daniel Houston for many helpful discussions regarding the development of the new <code>nflfastR</code> models</li>
<li>To Zach Feldman and Josh Hermsmeyer for many helpful discussions about CPOE models as well as Peter Owen for many helpful suggestions for the CP model</li>
<li>To Florian Schmitt for the logo design</li>
<li>The many users who found and reported bugs in <code>nflfastR</code> 1.0</li>
<li>And of course, the original <a href="https://github.com/maksimhorowitz/nflscrapR"><code>nflscrapR</code></a> team, Maksim Horowitz, Ronald Yurko, and Samuel Ventura, whose work represented a dramatic step forward for the state of public NFL research</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=nflfastR">https://​cloud.r-project.org/​package=nflfastR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/mrcaseb/nflfastR/">https://​github.com/​mrcaseb/​nflfastR/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mrcaseb/nflfastR/issues">https://​github.com/​mrcaseb/​nflfastR/​issues</a>
</li>
<li>nflfastR Discord chat at <br><a href="https://discord.gg/5Er2FBnnQa">https://​discord.gg/​5Er2FBnnQa</a>
</li>
<li>nflfastR beginner's guide at <br><a href="articles/beginners_guide.html">articles/​beginners_guide.html</a>
</li>
<li>nflfastR stats landing page at <br><a href="https://rbsdm.com/stats/">https://​rbsdm.com/​stats/​</a>
</li>
<li>Lee Sharpe's nfl game data at <br><a href="http://nflgamedata.com">http://​nflgamedata.com</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://twitter.com/mrcaseb">Sebastian Carl</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://twitter.com/benbbaldwin">Ben Baldwin</a> <br><small class="roles"> Maintainer, author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=nflfastR"><img src="https://www.r-pkg.org/badges/version-last-release/nflfastR" alt="CRAN status"></a></li>
<li><a href="https://CRAN.R-project.org/package=nflfastR"><img src="http://cranlogs.r-pkg.org/badges/grand-total/nflfastR" alt="CRAN downloads"></a></li>
<li><a href="https://github.com/mrcaseb/nflfastR/actions"><img src="https://github.com/mrcaseb/nflfastR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://discord.com/invite/5Er2FBnnQa"><img src="https://img.shields.io/discord/591914197219016707.svg?color=7289da&amp;label=Support&amp;logo=discord&amp;style=flat-square" alt="Support Server"></a></li>
<li><a href="https://twitter.com/nflfastR"><img src="https://img.shields.io/twitter/follow/nflfastR.svg?style=social" alt="Twitter Follow"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://twitter.com/mrcaseb">Sebastian Carl</a>, <a href="https://twitter.com/benbbaldwin">Ben Baldwin</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'e3fe78f73c8f37b971f8119095349ecb',
    indexName: 'nflfastr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
