<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • nflfastR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.7/font.css" rel="stylesheet"><link href="../deps/Kanit-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://www.nflfastr.com/reference/figures/card.png"><meta property="og:image:alt" content="nflfastR social preview card"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@nflfastR"><meta name="twitter:site" content="@nflfastR"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-8FNRBBEHML"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8FNRBBEHML');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nflfastR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.5.1.9014</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/nflfastR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/beginners_guide.html">A beginner’s guide to nflfastR</a>
    <a class="dropdown-item" href="../articles/field_descriptions.html">Field Descriptions</a>
    <a class="external-link dropdown-item" href="https://www.opensourcefootball.com/posts/2020-09-28-nflfastr-ep-wp-and-cp-models/">nflfastR models</a>
    <a class="external-link dropdown-item" href="https://www.opensourcefootball.com/">Open Source Football</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nflverse/nflfastR-data">
    <span class="fas fa fas fa-database fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://rbsdm.com/stats/">
    <span class="fas fa fas fa-chart-line fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://nflgamedata.com/">
    <span class="fas fa fas fa-football-ball fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/nflfastR">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://discord.com/invite/5Er2FBnnQa">
    <span class="fab fa fab fa-discord fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nflverse/nflfastR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-packages-amp-more">Packages &amp; More</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-packages-amp-more">
    <h6 class="dropdown-header" data-toc-skip>nflverse Packages</h6>
    <a class="dropdown-item" href="https://www.nflfastr.com">nflfastR</a>
    <a class="external-link dropdown-item" href="https://nflseedr.com">nflseedR</a>
    <a class="external-link dropdown-item" href="https://www.nfl4th.com">nfl4th</a>
    <a class="external-link dropdown-item" href="https://nflreadr.nflverse.com/">nflreadr</a>
    <a class="external-link dropdown-item" href="https://nflplotr.nflverse.com/">nflplotR</a>
    <a class="external-link dropdown-item" href="https://nflverse.nflverse.com/">nflverse</a>
    <a class="external-link dropdown-item" href="https://www.opensourcefootball.com">Open Source Football</a>
    <h6 class="dropdown-header" data-toc-skip>nflverse Data</h6>
    <a class="external-link dropdown-item" href="https://github.com/nflverse">nflverse GitHub</a>
    <a class="external-link dropdown-item" href="https://jthomasmock.github.io/espnscrapeR/">espnscrapeR Package</a>
    <h6 class="dropdown-header" data-toc-skip>ffverse</h6>
    <a class="external-link dropdown-item" href="https://www.ffverse.com">ffverse.com</a>
  </div>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/nflverse/nflfastR/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="nflfastr-development-version">nflfastR (development version)<a class="anchor" aria-label="anchor" href="#nflfastr-development-version"></a></h2>
<ul><li>internal function <code>get_pbp_nfl()</code> now uses <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> instead of <code><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">dplyr::if_else()</a></code> to handle some null-checking, fixes bug found in 2022_21_CIN_KC match. (v4.5.1.9001)</li>
<li>The function <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> now summarises target share and air yards share correctly when called with argument <code>weekly = FALSE</code> (<a href="https://github.com/nflverse/nflfastR/issues/413" class="external-link">#413</a>)</li>
<li>The function <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> now returns the opponent team when called with argument <code>weekly = TRUE</code> (<a href="https://github.com/nflverse/nflfastR/issues/414" class="external-link">#414</a>)</li>
<li>The function <code><a href="../reference/calculate_player_stats_def.html">calculate_player_stats_def()</a></code> no longer errors when small subsets of pbp data are missing stats. (<a href="https://github.com/nflverse/nflfastR/issues/415" class="external-link">#415</a>)</li>
<li>The function <code><a href="../reference/calculate_series_conversion_rates.html">calculate_series_conversion_rates()</a></code> no longer returns <code>NA</code> values if a small subset of pbp data is missing series on offense or defense. (<a href="https://github.com/nflverse/nflfastR/issues/417" class="external-link">#417</a>)</li>
<li>
<code>fixed_drive</code> now correctly increments on plays where posteam lost a fumble but remains posteam because defteam also lost a fumble during the same play. (<a href="https://github.com/nflverse/nflfastR/issues/419" class="external-link">#419</a>)</li>
<li>nflfastR now fixes missing drive number counts in raw pbp data in order to provide accurate drive information. (<a href="https://github.com/nflverse/nflfastR/issues/420" class="external-link">#420</a>)</li>
<li>nflfastR now returns correct <code>kick_distance</code> on all punts and kickoffs. (<a href="https://github.com/nflverse/nflfastR/issues/422" class="external-link">#422</a>)</li>
<li>nflfastR now fully supports loading raw pbp data from local file system. The best way to use this feature is to set <code>options("nflfastR.raw_directory" = {"your/local/directory"})</code>. Alternatively, both <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> and <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> support the argument <code>dir</code> which defaults to the above option. (<a href="https://github.com/nflverse/nflfastR/issues/423" class="external-link">#423</a>)</li>
<li>Added the new function <code><a href="../reference/save_raw_pbp.html">save_raw_pbp()</a></code> which efficiently downloads raw play-by-play data and saves it to the local file system. This serves as a helper to setup the system for faster play-by-play parsing via the above functionality. (<a href="https://github.com/nflverse/nflfastR/issues/423" class="external-link">#423</a>)</li>
<li>Added the new function <code><a href="../reference/missing_raw_pbp.html">missing_raw_pbp()</a></code> that computes a vector of game IDs missing in the local raw play-by-play directory. (<a href="https://github.com/nflverse/nflfastR/issues/423" class="external-link">#423</a>)</li>
<li>Decode player IDs in 2023 pbp. (<a href="https://github.com/nflverse/nflfastR/issues/425" class="external-link">#425</a>)</li>
<li>Drop the pseudo plays TV Timeout and Two-Minute Warning. (<a href="https://github.com/nflverse/nflfastR/issues/426" class="external-link">#426</a>)</li>
<li>Fix posteam on kickoffs and PATs following a defensive TD in 2023+ pbp. (<a href="https://github.com/nflverse/nflfastR/issues/427" class="external-link">#427</a>)</li>
<li>
<code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> no more counts lost fumbles on plays where a player fumbles, a team mate recovers and then loses a fumble to the defense. (<a href="https://github.com/nflverse/nflfastR/issues/431" class="external-link">#431</a>)</li>
<li>The variables <code>passer</code>, <code>receiver</code>, and <code>rusher</code> no more return <code>NA</code> on “abnormal” plays - like direct snaps, aborted snaps, laterals etc. - that resulted in a penalty. (<a href="https://github.com/nflverse/nflfastR/issues/435" class="external-link">#435</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.5.1" id="nflfastr-451">nflfastR 4.5.1<a class="anchor" aria-label="anchor" href="#nflfastr-451"></a></h2><p class="text-muted">CRAN release: 2022-12-22</p>
<ul><li>New implementation of tests to be able to identify breaking changes in reverse dependencies (<a href="https://github.com/nflverse/nflfastR/issues/396" class="external-link">#396</a>, <a href="https://github.com/nflverse/nflfastR/issues/406" class="external-link">#406</a>)</li>
<li>
<code><a href="../reference/calculate_standings.html">calculate_standings()</a></code> no more freezes when computing standings from schedules where some games are missing results, i.e. upcoming games.</li>
<li>Bug fix that caused problems with upcoming dplyr and tidyselect updates that weren’t reverse compatible.</li>
<li>Significant performance improvements of internal functions. (<a href="https://github.com/nflverse/nflfastR/issues/402" class="external-link">#402</a>)</li>
<li>Wrap examples in <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code> to avoid CRAN problems. (<a href="https://github.com/nflverse/nflfastR/issues/404" class="external-link">#404</a>)</li>
<li>Fixed a bug where <code><a href="../reference/calculate_standings.html">calculate_standings()</a></code> wasn’t able to handle nflverse pbp data. (<a href="https://github.com/nflverse/nflfastR/issues/404" class="external-link">#404</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.5.0" id="nflfastr-450">nflfastR 4.5.0<a class="anchor" aria-label="anchor" href="#nflfastr-450"></a></h2><p class="text-muted">CRAN release: 2022-11-05</p>
<div class="section level3">
<h3 id="new-experimental-functions-4-5-0">New (experimental) functions<a class="anchor" aria-label="anchor" href="#new-experimental-functions-4-5-0"></a></h3>
<ul><li>Added new function <code><a href="../reference/calculate_player_stats_def.html">calculate_player_stats_def()</a></code> that aggregates defensive player stats either at game level or overall. (<a href="https://github.com/nflverse/nflfastR/issues/288" class="external-link">#288</a>)</li>
<li>The situation report <code>nflverse_sitrep</code> which is an alias of the already available <code><a href="../reference/report.html">report()</a></code>
</li>
<li>Added new function <code><a href="../reference/calculate_player_stats_kicking.html">calculate_player_stats_kicking()</a></code> that aggregates player stats for field goals and extra points at game level or overall. (<a href="https://github.com/nflverse/nflfastR/issues/381" class="external-link">#381</a>)</li>
<li>Added new function <code><a href="../reference/calculate_series_conversion_rates.html">calculate_series_conversion_rates()</a></code> that computes series conversion and series result rates at a game level or season level. (<a href="https://github.com/nflverse/nflfastR/issues/393" class="external-link">#393</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-and-minor-improvements-4-5-0">Bugfixes and Minor Improvements<a class="anchor" aria-label="anchor" href="#bugfixes-and-minor-improvements-4-5-0"></a></h3>
<ul><li>Internal change to <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> that reflects new nflverse data infrastructure.</li>
<li>
<code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> now unifies player names and joins the following player information via <code><a href="https://nflreadr.nflverse.com/reference/load_players.html" class="external-link">nflreadr::load_players()</a></code>:
<ul><li>
<code>player_display_name</code> - Full name of the player</li>
<li>
<code>position</code> - Position of the player</li>
<li>
<code>position_group</code> - Position group of the player</li>
<li>
<code>headshot_url</code> - URL to a player headshot image</li>
</ul></li>
<li>Make data work in 2022 (hopefully)</li>
<li>Fix Amon-Ra St. Brown breaking the name parser</li>
<li>Add gsis_id patch to <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code>.</li>
<li>
<code><a href="../reference/calculate_player_stats_def.html">calculate_player_stats_def()</a></code> failed in situations where play-by-play data is missing certain stats. (<a href="https://github.com/nflverse/nflfastR/issues/382" class="external-link">#382</a>)</li>
<li>Spot-fixing <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> for <code>NA</code> names.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.4.0" id="nflfastr-440">nflfastR 4.4.0<a class="anchor" aria-label="anchor" href="#nflfastr-440"></a></h2><p class="text-muted">CRAN release: 2022-08-06</p>
<div class="section level3">
<h3 id="new-functions-options-data-4-4-0">New Functions, Options, Data<a class="anchor" aria-label="anchor" href="#new-functions-options-data-4-4-0"></a></h3>
<ul><li>Added new function <code><a href="../reference/calculate_standings.html">calculate_standings()</a></code> that computes regular season division standings and playoff seeds from nflverse data.</li>
<li>The database function <code><a href="../reference/update_db.html">update_db()</a></code> now supports the option “nflfastR.dbdirectory” which can be used to set the directory of the nflfastR pbp database globally and independent of any project structure or working directories.</li>
<li>The embedded data frame <code><a href="../reference/teams_colors_logos.html">?teams_colors_logos</a></code> has been updated to reflect the most recent team color themes and gained additional variables for conference and division as well as logo urls to the conference and league logos. (<a href="https://github.com/nflverse/nflfastR/issues/290" class="external-link">#290</a>)</li>
<li>The embedded data frame <code><a href="../reference/teams_colors_logos.html">?teams_colors_logos</a></code> has been updated with the Washington Commanders. (<a href="https://github.com/nflverse/nflfastR/issues/312" class="external-link">#312</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="deprecation-4-4-0">Deprecation<a class="anchor" aria-label="anchor" href="#deprecation-4-4-0"></a></h3>
<ul><li>The argument <code>qs</code> in the functions <code><a href="../reference/load_pbp.html">load_pbp()</a></code> and <code><a href="../reference/load_player_stats.html">load_player_stats()</a></code> has been deprecated as of nflfastR 4.3.0. This release removes the argument entirely.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-and-minor-improvements-4-4-0">Bugfixes and Minor Improvements<a class="anchor" aria-label="anchor" href="#bugfixes-and-minor-improvements-4-4-0"></a></h3>
<ul><li>Fixed bug where a player could be duplicated in <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> in very rare cases caused by plays with laterals. (<a href="https://github.com/nflverse/nflfastR/issues/289" class="external-link">#289</a>)</li>
<li>Fixed a bug where the function <code><a href="../reference/add_xpass.html">add_xpass()</a></code> failed when called with an empty data frame. (<a href="https://github.com/nflverse/nflfastR/issues/296" class="external-link">#296</a>)</li>
<li>Fixed a bug where <code>play_type</code> showed <code>no_play</code> on plays with penalties that don’t result in a replay of the down. (<a href="https://github.com/nflverse/nflfastR/issues/277" class="external-link">#277</a>, <a href="https://github.com/nflverse/nflfastR/issues/281" class="external-link">#281</a>)</li>
<li>Fixed a bug in the variable descriptions of <code>total_home_score</code> and <code>total_away_score</code>. (<a href="https://github.com/nflverse/nflfastR/issues/300" class="external-link">#300</a>)</li>
<li>
<code>fast_scraper_rosters()</code> and <code><a href="../reference/fast_scraper_schedules.html">fast_scraper_schedules()</a></code> now call <code><a href="https://nflreadr.nflverse.com/reference/load_rosters.html" class="external-link">nflreadr::load_rosters()</a></code> and <code><a href="https://nflreadr.nflverse.com/reference/load_schedules.html" class="external-link">nflreadr::load_schedules()</a></code> under the hood (<a href="https://github.com/nflverse/nflfastR/issues/304" class="external-link">#304</a>)</li>
<li>Fixed a bug causing missing EPA on game-ending turnovers in overtime</li>
<li>Bump minimum nflreadr version to 1.2.0 for data repository change</li>
<li>Fix a bug affecting yardline for a very small number of plays in the 2000 season (<a href="https://github.com/nflverse/nflfastR/issues/323" class="external-link">#323</a>)</li>
<li>
<code><a href="../reference/update_db.html">update_db()</a></code> now uses a default play to predefine column types for all db drivers. (<a href="https://github.com/nflverse/nflfastR/issues/324" class="external-link">#324</a>)</li>
<li>Fix a bug that resulted in incorrect <code>xyac_mean_yardage</code> on 4th downs (<a href="https://github.com/nflverse/nflfastR/issues/327" class="external-link">#327</a>)</li>
<li>Fix a bug that resulted in missing <code>xyac</code> information for plays involving J.O’Shaughnessy (<a href="https://github.com/nflverse/nflfastR/issues/329" class="external-link">#329</a>)</li>
<li>Fix a bug that resulted in missing <code>epa</code> on the last play of some games involving NE and BUF (<a href="https://github.com/nflverse/nflfastR/issues/331" class="external-link">#331</a>)</li>
<li>
<code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> and <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> now return data frames of class <code>nflverse_data</code> to be consistent with <code>nflreadr</code>.</li>
<li>Fix behavior of EP model in neutral site games (treats both teams as away teams)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.3.0" id="nflfastr-430">nflfastR 4.3.0<a class="anchor" aria-label="anchor" href="#nflfastr-430"></a></h2><p class="text-muted">CRAN release: 2021-10-06</p>
<div class="section level3">
<h3 id="minor-changes-4-3-0">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-4-3-0"></a></h3>
<ul><li>Add <a href="https://nflreadr.nflverse.com/" class="external-link">nflreadr</a> to dependecies and drop lubridate and magrittr dependency</li>
<li>The functions <code><a href="../reference/load_pbp.html">load_pbp()</a></code> and <code><a href="../reference/load_player_stats.html">load_player_stats()</a></code> now call <code><a href="https://nflreadr.nflverse.com/reference/load_pbp.html" class="external-link">nflreadr::load_pbp()</a></code> and <code><a href="https://nflreadr.nflverse.com/reference/load_player_stats.html" class="external-link">nflreadr::load_player_stats()</a></code> respectively. Therefore the argument <code>qs</code> has been deprecated in both functions. It will be removed in a future release. Running <code><a href="../reference/load_player_stats.html">load_player_stats()</a></code> without any argument will now return player stats of the current season only (the default in <code>nflreadr</code>).</li>
<li>The deprecated arguments <code>source</code> and <code>pp</code> in the functions <code>fast_scraper_*()</code> and <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> have been removed</li>
<li>Added the variables <code>racr</code> (“Receiver Air Conversion Ratio”), <code>target_share</code>, <code>air_yards_share</code>, <code>wopr</code> (“Weighted Opportunity Rating”) and <code>pacr</code> (“Passing Air Conversion Ratio”) to the output of <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code>
</li>
<li>Added the function <code><a href="../reference/report.html">report()</a></code> which will be used by the maintainers to help users debug their problems (<a href="https://github.com/nflverse/nflfastR/issues/274" class="external-link">#274</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-4-3-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-4-3-0"></a></h3>
<ul><li>Fixed a minor bug in the console output of <code><a href="../reference/update_db.html">update_db()</a></code>
</li>
<li>Fix for a handful of missing <code>receiver</code> names (<a href="https://github.com/nflverse/nflfastR/issues/270" class="external-link">#270</a>)</li>
<li>Fixed bug with missing <code>return_team</code> on interception return touchdowns (<a href="https://github.com/nflverse/nflfastR/issues/275" class="external-link">#275</a>)</li>
<li>Fixed a rare bug where an internal object wasn’t predefined (<a href="https://github.com/nflverse/nflfastR/issues/272" class="external-link">#272</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.2.0" id="nflfastr-420">nflfastR 4.2.0<a class="anchor" aria-label="anchor" href="#nflfastr-420"></a></h2><p class="text-muted">CRAN release: 2021-08-03</p>
<ul><li>All <code>wpa</code> variables are <code>NA</code> on end game line</li>
<li>All <code>wp</code> variables are 0, 0.5, 1, or <code>NA</code> on end game line</li>
<li>Fix bug where win prob on PATs assumed a PAT placed at 15 yard line, even in older seasons</li>
<li>The function <code><a href="../reference/decode_player_ids.html">decode_player_ids()</a></code> now really decodes the new variable <code>fantasy_id</code> (<a href="https://github.com/nflverse/nflfastR/issues/229" class="external-link">#229</a>)</li>
<li>Fixed a bug that caused slightly differing <code>wp</code> values depending on the first game in the data set (<a href="https://github.com/nflverse/nflfastR/issues/183" class="external-link">#183</a>)</li>
<li>Edited GitHub references to point to nflverse</li>
<li>Added the variables <code>sack_yards</code>, <code>sack_fumbles</code>, <code>rushing_fumbles</code> and <code>receiving_fumbles</code> to the output of the function <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code>, thanks to Mike Filicicchia (<a href="https://github.com/TheMathNinja" class="external-link">@TheMathNinja</a>). (<a href="https://github.com/nflverse/nflfastR/issues/239" class="external-link">#239</a>)</li>
<li>Fixed a bug where <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> falsely counted lost fumbles on aborted snaps (<a href="https://github.com/nflverse/nflfastR/issues/238" class="external-link">#238</a>)</li>
<li>Added the variable <code>season_type</code> to the output of <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> and <code><a href="../reference/load_player_stats.html">load_player_stats()</a></code> in preparation of the extended Regular Season starting in 2021 (<a href="https://github.com/nflverse/nflfastR/issues/240" class="external-link">#240</a>)</li>
<li>Updated <code>season_type</code> definitions in preparation of the extended Regular Season starting in 2021 (<a href="https://github.com/nflverse/nflfastR/issues/242" class="external-link">#242</a>)</li>
<li>Fix for <code>fixed_drive</code> where it wasn’t incrementing when there was a muffed punt followed by timeout (<a href="https://github.com/nflverse/nflfastR/issues/244" class="external-link">#244</a>)</li>
<li>Fix for <code>fixed_drive</code> where it wasn’t incrementing following an interception with the intercepting player then losing a fumble (<a href="https://github.com/nflverse/nflfastR/issues/247" class="external-link">#247</a>)</li>
<li>Fix for more issues with missing play info in 2018_01_ATL_PHI (<a href="https://github.com/nflverse/nflfastR/issues/246" class="external-link">#246</a>)</li>
<li>Added the variables <code>safety_player_name</code> and <code>safety_player_id</code> to the play-by-play data (<a href="https://github.com/nflverse/nflfastR/issues/252" class="external-link">#252</a>)</li>
<li>Dropped the dependency <code>usethis</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.1.0" id="nflfastr-410">nflfastR 4.1.0<a class="anchor" aria-label="anchor" href="#nflfastr-410"></a></h2><p class="text-muted">CRAN release: 2021-03-23</p>
<div class="section level3">
<h3 id="breaking-changes-4-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-4-1-0"></a></h3>
<div class="section level4">
<h4 id="functions-4-1-0">Functions<a class="anchor" aria-label="anchor" href="#functions-4-1-0"></a></h4>
<ul><li>Added the function <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> that aggregates official passing, rushing, and receiving stats either at game level or overall</li>
<li>Added the function <code><a href="../reference/load_player_stats.html">load_player_stats()</a></code> that loads weekly player stats from 1999 to the most recent season</li>
<li>The performance of the functions <code><a href="../reference/add_xyac.html">add_xyac()</a></code> and <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> has been significantly improved</li>
</ul></div>
<div class="section level4">
<h4 id="new-variables-4-1-0">New Variables<a class="anchor" aria-label="anchor" href="#new-variables-4-1-0"></a></h4>
<ul><li>Added the new columns <code>td_player_name</code> and <code>td_player_id</code> to clearly identify the player who scored a touchdown (this is especially helpful for plays with multiple fumbles or laterals resulting in a touchdown)</li>
<li>The function <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> now adds the variable <code>dakota</code>, the <code>epa</code> + <code>cpoe</code> composite, for players with minimum 5 pass attempts.</li>
<li>Added column <code>home_opening_kickoff</code> to <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code>
</li>
<li>Added the variables <code>sack_player_id</code>, <code>sack_player_name</code>, <code>half_sack_1_player_id</code>, <code>half_sack_1_player_name</code>, <code>half_sack_2_player_id</code> and <code>half_sack_2_player_name</code> who identify players that recorded sacks (or half sacks). Also updated the description of the variables <code>qb_hit_1_player_id</code>, <code>qb_hit_1_player_name</code>, <code>qb_hit_2_player_id</code> and <code>qb_hit_2_player_name</code> to make more clear that they did not record a sack. (<a href="https://github.com/nflverse/nflfastR/issues/180" class="external-link">#180</a>)</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-4-1-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-4-1-0"></a></h3>
<ul><li>The variable <code>qb_scramble</code> was incomplete for the 2005 season because of missing scramble indicators in the play description. This has been mostly fixed courtesy of charting data from Football Outsiders (with thanks to Aaron Schatz!). Some notes on this fix: Weeks 1-16 are based on charting. Weeks 17-21 are guesses (basically every QB run except those that were a) a loss, b) no gain, or c) on 3/4 down with 1-2 to go). Plays nullified by penalty are not included.</li>
<li>Change <code>name</code>, <code>id</code>, <code>rusher</code>, and <code>rusher_id</code> to be the player charged with the fumble on aborted snaps when the QB is unable to make a play (i.e. pass, sack, or scramble) (<a href="https://github.com/nflverse/nflfastR/issues/162" class="external-link">#162</a>)</li>
<li>The function <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now standardizes the team name columns <code>tackle_with_assist_*_team</code>
</li>
<li>Fix bug in <code>drive</code> that was causing incorrect overtime win probabilities (<a href="https://github.com/nflverse/nflfastR/issues/194" class="external-link">#194</a>)</li>
<li>Fixed a bug where <code>posteam</code> was not <code>NA</code> on end of quarter 2 (or end of quarter 4 in overtime games) causing wrong values for <code>fixed_drive</code>, <code>fixed_drive_result</code>, <code>series</code> and <code>series_result</code>
</li>
<li>Fixed a bug where <code>fixed_drive</code> and <code>series</code> were falsely incrementing on kickoffs recovered by the kicking team or on defensive touchdowns followed by timeouts</li>
<li>Fixed a bug where <code>fixed_drive</code> and <code>series</code> were falsely incrementing on muffed punts recovered by the punting team for a touchdown</li>
<li>Fixed a bug where <code><a href="../reference/add_xpass.html">add_xpass()</a></code> crashed when ran with data already including xpass variables.</li>
<li>Fixed a bug in <code>epa</code> when a safety is scored by the team beginning the play in possession of the ball (<a href="https://github.com/nflverse/nflfastR/issues/186" class="external-link">#186</a>)</li>
<li>Fix some bugs related to David and Duke Johnson on the Texans in 2020 (<a href="https://github.com/nflverse/nflfastR/issues/163" class="external-link">#163</a>)</li>
<li>Fix yet another bug related to correctly identifying possession team on kickoffs nullified by penalty (<a href="https://github.com/nflverse/nflfastR/issues/199" class="external-link">#199</a>)</li>
<li>Fixed a bug where <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> forgot to clean player names by using their IDs</li>
<li>Fixed a bug where special teams touchdowns were missing in the output of <code><a href="../reference/calculate_player_stats.html">calculate_player_stats()</a></code> (<a href="https://github.com/nflverse/nflfastR/issues/203" class="external-link">#203</a>)</li>
<li>Fixed for some old Jaguars games where the wrong team was awarded points for safeties and kickoff return TDs (<a href="https://github.com/nflverse/nflfastR/issues/209" class="external-link">#209</a>)</li>
<li>The function <code><a href="../reference/update_db.html">update_db()</a></code> no more falsely closes a database connection provided by the argument <code>db_connection</code> (<a href="https://github.com/nflverse/nflfastR/issues/210" class="external-link">#210</a>)</li>
<li>Fixed a bug where <code>yards_gained</code> was missing yardage on plays with laterals. (<a href="https://github.com/nflverse/nflfastR/issues/216" class="external-link">#216</a>)</li>
<li>Fixed a bug where there were stats wrongly given on a play with penalty (<a href="https://github.com/nflverse/nflfastR/issues/218" class="external-link">#218</a>)</li>
<li>
<code>fixed_drive</code> now increments properly on onside kick recoveries (<a href="https://github.com/nflverse/nflfastR/issues/215" class="external-link">#215</a>)</li>
<li>
<code>fixed_drive</code> no longer counts a muffed kickoff as a one-play drive on its own (<a href="https://github.com/nflverse/nflfastR/issues/217" class="external-link">#217</a>)</li>
<li>
<code>fixed_drive</code> now properly increments after a safety (<a href="https://github.com/nflverse/nflfastR/issues/219" class="external-link">#219</a>)</li>
<li>Improved parser for <code>penalty_type</code> and updated the description of the variable to make more clear it’s the first penalty that happened on a play. (<a href="https://github.com/nflverse/nflfastR/issues/223" class="external-link">#223</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.0" id="nflfastr-400">nflfastR 4.0.0<a class="anchor" aria-label="anchor" href="#nflfastr-400"></a></h2><p class="text-muted">CRAN release: 2021-02-15</p>
<div class="section level3">
<h3 id="breaking-changes-4-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-4-0-0"></a></h3>
<div class="section level4">
<h4 id="changed-functions-4-0-0">Changed Functions<a class="anchor" aria-label="anchor" href="#changed-functions-4-0-0"></a></h4>
<ul><li>Deprecated the arguments <code>source</code> and <code>pp</code> all across the package. Using them will cause a warning. Parallel processing has to be activated by choosing an appropriate <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code> before calling the relevant functions. For more information please see <a href="https://www.nflfastr.com/reference/nflfastR-package.html">the package documentation</a>.</li>
<li>The function <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> will now run <code><a href="../reference/decode_player_ids.html">decode_player_ids()</a></code> by default (can be deactivated with the argument <code>decode = FALSE</code>).</li>
<li>The function <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> will now run <code><a href="../reference/add_xpass.html">add_xpass()</a></code> by default and add the new variables <code>xpass</code> and <code>pass_oe</code>.</li>
<li>The functions <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> and <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code> now allow the output of <code><a href="../reference/fast_scraper_schedules.html">fast_scraper_schedules()</a></code> directly as input so it’s not necessary anymore to pull the <code>game_id</code> first.</li>
</ul></div>
<div class="section level4">
<h4 id="new-functions-and-variables-4-0-0">New Functions and Variables<a class="anchor" aria-label="anchor" href="#new-functions-and-variables-4-0-0"></a></h4>
<ul><li>Added the new function <code><a href="../reference/load_pbp.html">load_pbp()</a></code> that loads complete seasons into memory for fast access of the play-by-play data.</li>
<li>Added the new variables <code>rushing_yards</code>, <code>lateral_rushing_yards</code>, <code>passing_yards</code>, <code>receiving_yards</code>, <code>lateral_receiving_yards</code> to fix an old bug where <code>yards_gained</code> gets overwritten on plays with laterals (<a href="https://github.com/nflverse/nflfastR/issues/115" class="external-link">#115</a>).</li>
<li>Added columns <code>vegas_wpa</code> and <code>vegas_home_wpa</code> which contain Win Probability Added from the spread-adjusted WP model</li>
<li>Added column <code>out_of_bounds</code>
</li>
<li>Added columns <code>fantasy</code>, <code>fantasy_id</code>, <code>fantasy_player_name</code>, and <code>fantasy_player_id</code> that indicate the rusher or receiver on the play</li>
<li>Added columns <code>tackle_with_assist</code>, <code>tackle_with_assist_1_player_id</code>, <code>tackle_with_assist_1_player_name</code>, <code>tackle_with_assist_1_team</code>, <code>tackle_with_assist_2_player_id</code>, <code>tackle_with_assist_2_player_name</code>, <code>tackle_with_assist_2_team</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="models-and-miscellaneous-4-0-0">Models and Miscellaneous<a class="anchor" aria-label="anchor" href="#models-and-miscellaneous-4-0-0"></a></h4>
<ul><li>Tuned spread-adjusted win probability model one final (?) time. Expected points is now no longer required for <code><a href="../reference/calculate_win_probability.html">calculate_win_probability()</a></code>
</li>
<li>Added field descriptions <code><a href="../articles/field_descriptions.html">vignette("field_descriptions")</a></code> with a searchable list of all nflfastR variables</li>
<li>Switched data source for 2001-2010 to what is used for 2011 and on</li>
<li>All models have been moved to the <a href="https://cran.r-project.org/package=fastrmodels" class="external-link">fastrmodels</a> package</li>
<li>Added the data frames <code><a href="../reference/field_descriptions.html">?field_descriptions</a></code> and <code><a href="../reference/stat_ids.html">?stat_ids</a></code> to the package</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-4-0-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-4-0-0"></a></h3>
<ul><li>Fix bug where <code>fixed_drive</code> and <code>series</code> weren’t updating after muffed punt (<a href="https://github.com/nflverse/nflfastR/issues/144" class="external-link">#144</a>)</li>
<li>Fix bug induced by fixing the above (<a href="https://github.com/nflverse/nflfastR/issues/149" class="external-link">#149</a>)</li>
<li>Fix bug where some special teams plays were incorrectly being labeled as pass plays (<a href="https://github.com/nflverse/nflfastR/issues/125" class="external-link">#125</a>)</li>
<li>Fix bug where points for safeties were given to the <code>defteam</code> instead of the <code>posteam</code> (<a href="https://github.com/nflverse/nflfastR/issues/152" class="external-link">#152</a>)</li>
<li>Fix bug where a muffed punt TD was given to the wrong team in a 2011 Jaguars game (<a href="https://github.com/nflverse/nflfastR/issues/154" class="external-link">#154</a>)</li>
<li>Win probability is now calculated prior to PAT attempts rather than using WP on the ensuing kickoff</li>
<li>Improved performance of internal functions that speed up the rebuilding process in <code><a href="../reference/update_db.html">update_db()</a></code> (added <code>qs</code> and <code>curl</code> to dependencies)</li>
<li>Fixed a bug where <code><a href="../reference/calculate_expected_points.html">calculate_expected_points()</a></code> and <code><a href="../reference/calculate_win_probability.html">calculate_win_probability()</a></code> duplicated some existing variables instead of replacing them (<a href="https://github.com/nflverse/nflfastR/issues/170" class="external-link">#170</a>)</li>
<li>Fixed a bug where <code>penalty_type</code> wasn’t <code>"no_play"</code> although it should have been (<a href="https://github.com/nflverse/nflfastR/issues/172" class="external-link">#172</a>)</li>
<li>Fixed a bug where <code>penalty_team</code> could be incorrect in games of the Jaguars in the seasons 2011 - 2015 (<a href="https://github.com/nflverse/nflfastR/issues/174" class="external-link">#174</a>)</li>
<li>Fixed a bug related to the calculation of <code>epa</code> on plays before a failed pass interference challenge in a few 2019 games (<a href="https://github.com/nflverse/nflfastR/issues/175" class="external-link">#175</a>)</li>
<li>Fixed a bug related to lots of fields with <code>NA</code> on offsetting penalties (<a href="https://github.com/nflverse/nflfastR/issues/44" class="external-link">#44</a>)</li>
<li>Fixed a bug in <code>epa</code> when possession team changes at end of 1st or 3rd quarter (<a href="https://github.com/nflverse/nflfastR/issues/182" class="external-link">#182</a>)</li>
<li>Fixed a bug where various functions have left open connections</li>
<li>
<code>vegas_wp</code> is now <code>NA</code> on final line since there is no possession team</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.2.0" id="nflfastr-320">nflfastR 3.2.0<a class="anchor" aria-label="anchor" href="#nflfastr-320"></a></h2><p class="text-muted">CRAN release: 2020-11-20</p>
<div class="section level3">
<h3 id="models-3-2-0">Models<a class="anchor" aria-label="anchor" href="#models-3-2-0"></a></h3>
<ul><li>Performance update for win probability model with point spread (<code>vegas_wp</code>)</li>
<li>Added <code>yardline_100</code> as an input to both win probability models (not having it included was an oversight)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-3-2-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-3-2-0"></a></h3>
<ul><li>Fixed a bug where <code>series</code> was increased on PATs</li>
<li>Fixed a bug affecting the week 10 Raiders-Broncos game</li>
<li>Added the column <code>team_wordmark</code> - which contains URLs to the team’s wordmarks - to the included data frame <code><a href="../reference/teams_colors_logos.html">?teams_colors_logos</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.1" id="nflfastr-311">nflfastR 3.1.1<a class="anchor" aria-label="anchor" href="#nflfastr-311"></a></h2><p class="text-muted">CRAN release: 2020-10-22</p>
<div class="section level3">
<h3 id="new-features-3-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-3-1-1"></a></h3>
<div class="section level4">
<h4 id="database-function-update_db-3-1-1">Database Function <code>update_db()</code>
<a class="anchor" aria-label="anchor" href="#database-function-update_db-3-1-1"></a></h4>
<ul><li>The argument <code>force_rebuild</code> of the function <code><a href="../reference/update_db.html">update_db()</a></code> is now of hybrid type. It can rebuild the play by play data table either for the whole nflfastR era (with <code>force_rebuild = TRUE</code>) or just for specified seasons (e.g. <code>force_rebuild = 2019:2020</code>). The latter is intended to be used for running seasons because the NFL fixes bugs in the play by play data during the week and we recommend to rebuild the current season every Thursday.</li>
<li>Fixed a bug where <code><a href="../reference/update_db.html">update_db()</a></code> disconnected the connection to a database provided by the argument <code>db_connection</code> (<a href="https://github.com/nflverse/nflfastR/issues/102" class="external-link">#102</a>)</li>
<li>Fixed a bug where <code><a href="../reference/update_db.html">update_db()</a></code> didn’t build a fresh database without providing the argument <code>force_rebuild</code>
</li>
<li>
<code><a href="../reference/update_db.html">update_db()</a></code> no longer removes the complete data table when a numeric argument <code>force_rebuild</code> is passed but only removes the rows within the table (<a href="https://github.com/nflverse/nflfastR/issues/109" class="external-link">#109</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="new-functions-3-1-1">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-3-1-1"></a></h4>
<ul><li>Added the new function <code><a href="../reference/build_nflfastR_pbp.html">build_nflfastR_pbp()</a></code>, a convenient wrapper around multiple nflfastR functions for an easy creation of the nflfastR play-by-play data set</li>
<li>Added a function that applies our experimental expected pass model, <code><a href="../reference/add_xpass.html">add_xpass()</a></code>, that creates columns <code>xpass</code> and <code>pass_oe</code>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-3-1-1">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-3-1-1"></a></h3>
<ul><li>More fixes for <code>fixed_drive</code> which was not incrementing properly on drives that began following a timeout</li>
<li>Fixed more bugs in EPA and win probability on PATs and kickoffs with penalties</li>
<li>Fixed a bug where scoring probabilities weren’t adding to 1 on field goal attempts near the end of a half</li>
<li>Messages to the user are now created with the new dependency <code>usethis</code>
</li>
<li>Fixed bug where plays with “backward pass” in play description were counted as pass plays (<code>pass</code> = 1)</li>
<li>Fixed missing kick distance on touchbacks and blocked punts (<a href="https://github.com/nflverse/nflfastR/issues/53" class="external-link">#53</a>)</li>
<li>Added the option <code>fast</code> (either <code>TRUE</code> or <code>FALSE</code>) to the function <code><a href="../reference/decode_player_ids.html">decode_player_ids()</a></code> to activate the high efficient C++ decoder of the package <a href="https://cran.r-project.org/package=gsisdecoder" class="external-link"><code>gsisdecoder</code></a>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="nflfastr-300">nflfastR 3.0.0<a class="anchor" aria-label="anchor" href="#nflfastr-300"></a></h2><p class="text-muted">CRAN release: 2020-09-24</p>
<div class="section level3">
<h3 id="breaking-changes-3-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-3-0-0"></a></h3>
<ul><li>
<code><a href="../reference/fast_scraper_roster.html">fast_scraper_roster()</a></code> is finally back! It loads NFL roster of a given season.</li>
<li>Added the function <code><a href="../reference/decode_player_ids.html">decode_player_ids()</a></code> to decode all player IDs to the commonly known GSIS ID format (00-00xxxxx)</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-3-0-0">New features<a class="anchor" aria-label="anchor" href="#new-features-3-0-0"></a></h3>
<ul><li>Add option <code>source = "old"</code> to <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> to enable scraping of old source. This is mostly useless as it doesn’t work for 2020 and provides less info</li>
<li>Added new option <code>db_connection</code> to <code><a href="../reference/update_db.html">update_db()</a></code> to allow advanced users to use other DBI drivers, such as <code>RMariaDB::MariaDB()</code>, <code>RPostgres::Postgres()</code> or <code>odbc::odbc()</code> (please see <a href="https://dbplyr.tidyverse.org/articles/dbplyr.html" class="external-link">dbplyr</a> for more information)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-3-0-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-3-0-0"></a></h3>
<ul><li>
<code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now fixes some bugs in jersey numbers</li>
<li>
<code><a href="../reference/clean_pbp.html">clean_pbp()</a></code>, <code><a href="../reference/add_qb_epa.html">add_qb_epa()</a></code> and <code><a href="../reference/add_xyac.html">add_xyac()</a></code> can now handle empty data frames</li>
<li>Fix empty line causing <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> to fail (affects multiple games of the 2020 season)</li>
<li>Fix bug in <code>fixed_drive</code> that counted PAT after defensive TD as its own drive</li>
<li>Fixed a bug which caused too high number of tackles in special cases</li>
<li>Fixed a bug where CPOE was NA when targeting players with apostrophe in last name</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="nflfastr-221">nflfastR 2.2.1<a class="anchor" aria-label="anchor" href="#nflfastr-221"></a></h2><p class="text-muted">CRAN release: 2020-09-01</p>
<ul><li>Fix <code><a href="../reference/add_xyac.html">add_xyac()</a></code> breaking with some old packages</li>
<li>Fix <code><a href="../reference/add_xyac.html">add_xyac()</a></code> and <code><a href="../reference/add_qb_epa.html">add_qb_epa()</a></code> calculations being wrong for some failed 4th downs</li>
<li>Updated Readme with ep and cp model plots</li>
<li>Updated <code>vignette("examples")</code> with the new <code><a href="../reference/add_xyac.html">add_xyac()</a></code> function</li>
<li>Added xYAC model to <code>vignette("nflfastR-models")</code>
</li>
<li>Added variables <code>fixed_drive</code> and <code>fixed_drive_result</code> to the output of <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> because the NFL-provided drive info is extremely buggy</li>
<li>Added variable <code>series_result</code>
</li>
<li>
<code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now adds 4 new variables <code>passer_jersey_number</code>, <code>rusher_jersey_number</code>, <code>receiver_jersey_number</code> and <code>jersey_number</code>. These can be used to join rosters.</li>
<li>Fixed incorrect <code>timeout_team</code>, <code>return_team</code>, <code>fumble_recovery_1_team</code> for JAX games from 2011-2015</li>
<li>Re-trained EPA model with <code>fixed_drive</code> and corrections to <code>timeout_team</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.0" id="nflfastr-220">nflfastR 2.2.0<a class="anchor" aria-label="anchor" href="#nflfastr-220"></a></h2>
<ul><li>New function <code><a href="../reference/add_xyac.html">add_xyac()</a></code> which adds the following columns associated with expected yards after the catch (xYAC): <code>xyac_epa</code>, <code>xyac_success</code>, <code>xyac_fd</code>, <code>xyac_mean_yardage</code>, <code>xyac_median_yardage</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.3" id="nflfastr-213">nflfastR 2.1.3<a class="anchor" aria-label="anchor" href="#nflfastr-213"></a></h2>
<ul><li>Fixed a bug in <code>series_success</code> caused by bad <code>drive</code> information provided by NFL</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.2" id="nflfastr-212">nflfastR 2.1.2<a class="anchor" aria-label="anchor" href="#nflfastr-212"></a></h2>
<ul><li>Added the following columns that are available 2011 and later: <code>special_teams_play</code>, <code>st_play_type</code>, <code>time_of_day</code>, and <code>order_sequence</code>
</li>
<li>Added <code>old_game_id</code> column (useful for merging to external data that still uses this ID: format is YYYYMMDDxx)</li>
<li>The <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> function now adds an <code>aborted_play</code> column</li>
<li>Fixed a bug where pass plays with a penalty at end of play were classified as <code>play_type</code> = <code>no_play</code> rather than <code>pass</code>
</li>
<li>Fixed bug where EPA on defensive 2 point return was -0.95 instead of -2.95</li>
<li>Fixed some remaining failed challenge plays that incorrectly had 0 for EPA</li>
<li>Updated the included dataframe <code>teams_colors_logos</code> for the interim name of the ‘Washington Football Team’ and the corresponding logo urls.</li>
<li>Some internal code improvements causing the required <code>tidyselect</code> version to be &gt;= 1.1.0</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.1" id="nflfastr-211">nflfastR 2.1.1<a class="anchor" aria-label="anchor" href="#nflfastr-211"></a></h2>
<div class="section level4">
<h4 id="functions-2-1-1">Functions<a class="anchor" aria-label="anchor" href="#functions-2-1-1"></a></h4>
<ul><li>
<code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now standardizes player IDs across the old (1999-2010) and new (2011+) data sources. Player IDs once again uniquely identify players, and each unique player has one unique ID (as they did before the NFL data source change):
<ul><li>For players whose careers finished before 2011, their IDs remain the same</li>
<li>For players who played in both eras or only in the new era, their ID is the new ID</li>
<li>For example, Akili Smith (ID: 00-0015082) and Alex Smith (ID: 32013030-2d30-3032-3334-3336b638d37d) are both abbreviated as “A.Smith” but can be distinguished by their IDs, with Akili showing what the old format ID looks like, and Smith the new one</li>
<li>Standardization is realized by using an ID map available in the data repo</li>
</ul></li>
<li>
<code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now removes all variables it is about to create to make sure nothing unexpected can happen</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-2-1-1">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-2-1-1"></a></h4>
<ul><li><p>Added minimum version requirements to some package dependencies because installation broke for some users with outdated packages</p></li>
<li><p>Made a minor bug fix to catch more out-of-order plays and fixed a bug where some plays were being incorrectly dropped in older seasons</p></li>
<li><p>Standardized team names (e.g. <code>SD</code> –&gt; <code>LAC</code>) in some columns we had missed</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="nflfastr-210">nflfastR 2.1.0<a class="anchor" aria-label="anchor" href="#nflfastr-210"></a></h2>
<div class="section level4">
<h4 id="models-2-1-0">Models<a class="anchor" aria-label="anchor" href="#models-2-1-0"></a></h4>
<ul><li>Removed <code>week</code> from Expected Points models along with an update of <code>vignette("nflfastR-models")</code> and <code>vignette("examples")</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="functions-2-1-0">Functions<a class="anchor" aria-label="anchor" href="#functions-2-1-0"></a></h4>
<ul><li>Added function <code><a href="../reference/update_db.html">update_db()</a></code> which adds all completed games to a SQLite database</li>
<li>Added function <code><a href="../reference/calculate_win_probability.html">calculate_win_probability()</a></code>
</li>
<li>Added new examples to <code>vignette("examples")</code> demonstrating the usage of the above mentioned functions</li>
</ul></div>
<div class="section level4">
<h4 id="bugs-2-1-0">Bugs<a class="anchor" aria-label="anchor" href="#bugs-2-1-0"></a></h4>
<ul><li>Fixed a problem with inconsistent data types of the variable <code>drive_real_start_time</code> pre and post 2011</li>
<li>Fixed a problem where some <code>game_id</code>s were overwritten during the play by play parsing</li>
<li>Fix some more WP bugs on kickoffs with penalties and rare play description</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-2-1-0">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-2-1-0"></a></h4>
<ul><li>
<code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> now loads the raw game data from a separate raw data repo</li>
<li>Completely overhauled the entire code base to directly implement <a href="https://dplyr.tidyverse.org/articles/programming.html" class="external-link">tidy evaluation</a> using <code>.data</code> from the <a href="https://rlang.r-lib.org/" class="external-link">rlang</a> package (this is a major code change that takes some getting used to but we need it in preparation of a future release)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.6" id="nflfastr-206">nflfastR 2.0.6<a class="anchor" aria-label="anchor" href="#nflfastr-206"></a></h2>
<ul><li>Fixed a problem where defensive two point conversions were not counted</li>
<li>Kneels on kickoffs are no longer counted as qb kneels</li>
<li>Variable <code>yards_gained</code> more precisely defined</li>
<li>Bugfixes for more games with out of order of plays</li>
<li>Fix bug related to EPA on plays with a failed pass interference challenge</li>
<li>Added new example to <code>vignette("examples")</code> to demonstrate Expected Points calculator <code><a href="../reference/calculate_expected_points.html">calculate_expected_points()</a></code>
</li>
<li>Fix for WP on 2-pt conversion negated by penalty</li>
<li>Add more variables (containing team names) to team standardization in <code><a href="../reference/clean_pbp.html">clean_pbp()</a></code>
</li>
<li>Fix WP for onside kicks</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.5" id="nflfastr-205">nflfastR 2.0.5<a class="anchor" aria-label="anchor" href="#nflfastr-205"></a></h2>
<ul><li>Fix yet another bug caused by NFL providing plays out of order</li>
<li>Fix bugs related to penalties on PATs and kickoffs</li>
<li>Fix bugs related to NFL providing wrong scoring team on defensive touchdowns in older games involving the Jaguars</li>
<li>Fix some minor issues related to wrong <code>first_down_rush</code> and <code>return_touchdown</code>
</li>
<li>Improved error handling of <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> for not yet played games</li>
<li>Improved variable documentation and prepared for new website</li>
<li>Improved performance for dplyr v1.0.0</li>
<li>Rebuilt EP and WP models due to bugfixes in the underlying data in the versions 2.0.3, 2.0.4 and 2.0.5</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.4" id="nflfastr-204">nflfastR 2.0.4<a class="anchor" aria-label="anchor" href="#nflfastr-204"></a></h2>
<ul><li>Fix another bug with out of order plays</li>
<li>Fix bug affecting cumulative totals for WPA, air_WPA and yac_WPA</li>
<li>Fix bug affecting cumulative totals for air_EPA and yac_EPA</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.3" id="nflfastr-203">nflfastR 2.0.3<a class="anchor" aria-label="anchor" href="#nflfastr-203"></a></h2>
<ul><li>Fix for NFL providing plays out of order</li>
<li>Fix for series not incrementing following defensive TD</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.2" id="nflfastr-202">nflfastR 2.0.2<a class="anchor" aria-label="anchor" href="#nflfastr-202"></a></h2>
<ul><li>Fixed a bug in the series and series success calculations caused by timeouts following a possession change</li>
<li>Fixed win probability on PATs</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="nflfastr-201">nflfastR 2.0.1<a class="anchor" aria-label="anchor" href="#nflfastr-201"></a></h2>
<ul><li>Added minimum version requirement on <code>xgboost</code> (&gt;= 1.1) as the recent <code>xgboost</code> update caused a breaking change leading to failure in adding model results to data</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="nflfastr-200">nflfastR 2.0.0<a class="anchor" aria-label="anchor" href="#nflfastr-200"></a></h2>
<div class="section level4">
<h4 id="models-2-0-0">Models<a class="anchor" aria-label="anchor" href="#models-2-0-0"></a></h4>
<ul><li><p>Added new models for Expected Points, Win Probability and Completion Probability and removed <code>nflscrapR</code> dependency. This is a <strong>major</strong> change as we are stepping away from the well established <code>nflscrapR</code> models. But we believe it is a good step forward. See <code>data-raw/MODEL-README.md</code> for detailed model information.</p></li>
<li><p>Added internal functions for <code>EPA</code> and <code>WPA</code> to <code>helper_add_ep_wp.R</code>.</p></li>
<li><p>Added new function <code><a href="../reference/calculate_expected_points.html">calculate_expected_points()</a></code> usable for the enduser.</p></li>
</ul></div>
<div class="section level4">
<h4 id="functions-2-0-0">Functions<a class="anchor" aria-label="anchor" href="#functions-2-0-0"></a></h4>
<ul><li><p>Completely overhauled <code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> to make it work with the NFL’s new server backend. The option <code>source</code> is still available but will be deprecated since there is only one source now. There are some changes in the output as well (please see below).</p></li>
<li><p><code><a href="../reference/fast_scraper.html">fast_scraper()</a></code> now adds game data to the play by play data set courtesy of Lee Sharpe. Game data include: away_score, home_score, location, result, total, spread_line, total_line, div_game, roof, surface, temp, wind, home_coach, away_coach, stadium, stadium_id, gameday</p></li>
<li><p><code>fastcraper_schedules()</code> now incorporates Lee Sharpe’s <code>games.rds</code>.</p></li>
<li><p>The functions <code>fast_scraper_clips()</code> and <code><a href="../reference/fast_scraper_roster.html">fast_scraper_roster()</a></code> are deactivated due to the missing data source. They might be reactivated or completely dropped in future versions.</p></li>
<li><p>The function <code>fix_fumbles()</code> has been renamed to <code><a href="../reference/add_qb_epa.html">add_qb_epa()</a></code> as the new name much better describes what the function is actually doing.</p></li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-2-0-0">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-2-0-0"></a></h4>
<ul><li><p>Added progress information using the <code>progressr</code>package and removed the <code>furrr</code> progress bars.</p></li>
<li><p><code><a href="../reference/clean_pbp.html">clean_pbp()</a></code> now adds the column <code>ìd</code> which is the id of the player in the column <code>name</code>. Because we have to piece together different data to cover the full span of years, <strong>player IDs are not consistent between the early (1999-2010) and recent (2011 onward) periods</strong>.</p></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
<li><p>Fixed several bugs inhereted from <code>nflscrapR</code>, including one where EPA was missing when a play was followed by two timeouts (for example, a two-minute warning followed by a timeout), and another where <code>play_type</code> was incorrect on plays with declined penalties.</p></li>
<li><p>Fixed a bug, where <code>receiver_player_name</code> and <code>receiver</code> didn’t name the correct players on plays with lateral passes.</p></li>
</ul></div>
<div class="section level4">
<h4 id="play-by-play-output-2-0-0">Play-by-Play Output<a class="anchor" aria-label="anchor" href="#play-by-play-output-2-0-0"></a></h4>
<p>The output has changed a little bit.</p>
<div class="section level5">
<h5 id="the-following-variables-were-dropped-2-0-0">The following variables were dropped<a class="anchor" aria-label="anchor" href="#the-following-variables-were-dropped-2-0-0"></a></h5>
<table class="table"><colgroup><col width="13%"><col width="86%"></colgroup><thead><tr class="header"><th>Dropped Variables</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>game_key</td>
<td>RS feed game identifier.</td>
</tr><tr class="even"><td>game_time_local</td>
<td>Kickoff time in local time zone.</td>
</tr><tr class="odd"><td>iso_time</td>
<td>Kickoff time according ISO 8601.</td>
</tr><tr class="even"><td>game_type</td>
<td>One of ‘REG’, ‘WC’, ‘DIV’, ‘CON’, ‘SB’ indicating if a game was a regular season game or one of the playoff rounds.</td>
</tr><tr class="odd"><td>site_id</td>
<td>RS feed id for game site.</td>
</tr><tr class="even"><td>site_city</td>
<td>Game site city.</td>
</tr><tr class="odd"><td>site_state</td>
<td>Game site state.</td>
</tr><tr class="even"><td>drive_possession_team_abbr</td>
<td>Abbreviation of the possession team in a given drive.</td>
</tr><tr class="odd"><td>scoring_team_abbr</td>
<td>Abbreviation of the scoring team if the play was a scoring play.</td>
</tr><tr class="even"><td>scoring_type</td>
<td>String indicating the scoring type. One of ‘FG’, ‘TD’, ‘PAT’, ‘SFTY’, ‘PAT2’.</td>
</tr><tr class="odd"><td>alert_play_type</td>
<td>String describing the play type of a play the NFL has listed as alert play. For most of those plays there are highlight clips available through fast_scraper_clips.</td>
</tr><tr class="even"><td>time_of_day</td>
<td>Local time at the beginning of the play.</td>
</tr><tr class="odd"><td>yards</td>
<td>Analogue yards_gained but with the kicking team being the possession team (which means that there are many yards gained through kickoffs and punts).</td>
</tr><tr class="even"><td>end_yardline_number</td>
<td>Yardline number within the above given side at the end of the given play.</td>
</tr><tr class="odd"><td>end_yardline_side</td>
<td>String indicating the side of the field at the end of the given play.</td>
</tr></tbody></table></div>
<div class="section level5">
<h5 id="the-following-variables-were-renamed-2-0-0">The following variables were renamed<a class="anchor" aria-label="anchor" href="#the-following-variables-were-renamed-2-0-0"></a></h5>
<table class="table"><colgroup><col width="23%"><col width="76%"></colgroup><thead><tr class="header"><th>Renamed Variables</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>game_time_eastern -&gt; start_time</td>
<td>Kickoff time in eastern time zone.</td>
</tr><tr class="even"><td>site_fullname -&gt; stadium</td>
<td>Game site name.</td>
</tr><tr class="odd"><td>drive_how_started -&gt; drive_start_transition</td>
<td>String indicating how the offense got the ball.</td>
</tr><tr class="even"><td>drive_how_ended -&gt; drive_end_transition</td>
<td>String indicating how the offense lost the ball.</td>
</tr><tr class="odd"><td>drive_start_time -&gt; drive_game_clock_start</td>
<td>Game time at the beginning of a given drive.</td>
</tr><tr class="even"><td>drive_end_time -&gt; drive_game_clock_end</td>
<td>Game time at the end of a given drive.</td>
</tr><tr class="odd"><td>drive_start_yardline -&gt; drive_start_yard_line</td>
<td>String indicating where a given drive started consisting of team half and yard line number.</td>
</tr><tr class="even"><td>drive_end_yardline -&gt; drive_end_yard_line</td>
<td>String indicating where a given drive ended consisting of team half and yard line number.</td>
</tr><tr class="odd"><td>roof_type -&gt; roof</td>
<td>One of ‘dome’, ‘outdoors’, ‘closed’, ‘open’ indicating indicating the roof status of the stadium the game was played in. (Source: Pro-Football-Reference)</td>
</tr></tbody></table></div>
<div class="section level5">
<h5 id="the-following-variables-were-added-2-0-0">The following variables were added<a class="anchor" aria-label="anchor" href="#the-following-variables-were-added-2-0-0"></a></h5>
<table class="table"><colgroup><col width="10%"><col width="89%"></colgroup><thead><tr class="header"><th>Added Variables</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>vegas_wp</td>
<td>Estimated win probabiity for the posteam given the current situation at the start of the given play, incorporating pre-game Vegas line.</td>
</tr><tr class="even"><td>vegas_home_wp</td>
<td>Estimated win probability for the home team incorporating pre-game Vegas line.</td>
</tr><tr class="odd"><td>weather</td>
<td>String describing the weather including temperature, humidity and wind (direction and speed). Doesn’t change during the game!</td>
</tr><tr class="even"><td>nfl_api_id</td>
<td>UUID of the game in the new NFL API.</td>
</tr><tr class="odd"><td>play_clock</td>
<td>Time on the playclock when the ball was snapped.</td>
</tr><tr class="even"><td>play_deleted</td>
<td>Binary indicator for deleted plays.</td>
</tr><tr class="odd"><td>end_clock_time</td>
<td>Game time at the end of a given play.</td>
</tr><tr class="even"><td>end_yard_line</td>
<td>String indicating the yardline at the end of the given play consisting of team half and yard line number.</td>
</tr><tr class="odd"><td>drive_real_start_time</td>
<td>Local day time when the drive started (currently not used by the NFL and therefore mostly ‘NA’).</td>
</tr><tr class="even"><td>drive_ended_with_score</td>
<td>Binary indicator the drive ended with a score.</td>
</tr><tr class="odd"><td>drive_quarter_start</td>
<td>Numeric value indicating in which quarter the given drive has started.</td>
</tr><tr class="even"><td>drive_quarter_end</td>
<td>Numeric value indicating in which quarter the given drive has ended.</td>
</tr><tr class="odd"><td>drive_play_id_started</td>
<td>Play_id of the first play in the given drive.</td>
</tr><tr class="even"><td>drive_play_id_ended</td>
<td>Play_id of the last play in the given drive.</td>
</tr><tr class="odd"><td>away_score</td>
<td>Total points scored by the away team.</td>
</tr><tr class="even"><td>home_score</td>
<td>Total points scored by the home team.</td>
</tr><tr class="odd"><td>location</td>
<td>Either ‘Home’ o ‘Neutral’ indicating if the home team played at home or at a neutral site.</td>
</tr><tr class="even"><td>result</td>
<td>Equals home_score - away_score and means the game outcome from the perspective of the home team.</td>
</tr><tr class="odd"><td>total</td>
<td>Equals home_score + away_score and means the total points scored in the given game.</td>
</tr><tr class="even"><td>spread_line</td>
<td>The closing spread line for the game. A positive number means the home team was favored by that many points, a negative number means the away team was favored by that many points. (Source: Pro-Football-Reference)</td>
</tr><tr class="odd"><td>total_line</td>
<td>The closing total line for the game. (Source: Pro-Football-Reference)</td>
</tr><tr class="even"><td>div_game</td>
<td>Binary indicator for if the given game was a division game.</td>
</tr><tr class="odd"><td>roof</td>
<td>One of ‘dome’, ‘outdoors’, ‘closed’, ‘open’ indicating indicating the roof status of the stadium the game was played in. (Source: Pro-Football-Reference)</td>
</tr><tr class="even"><td>surface</td>
<td>What type of ground the game was played on. (Source: Pro-Football-Reference)</td>
</tr><tr class="odd"><td>temp</td>
<td>The temperature at the stadium only for ‘roof’ = ‘outdoors’ or ‘open’.(Source: Pro-Football-Reference)</td>
</tr><tr class="even"><td>wind</td>
<td>The speed of the wind in miles/hour only for ‘roof’ = ‘outdoors’ or ‘open’. (Source: Pro-Football-Reference)</td>
</tr><tr class="odd"><td>home_coach</td>
<td>First and last name of the home team coach. (Source: Pro-Football-Reference)</td>
</tr><tr class="even"><td>away_coach</td>
<td>First and last name of the away team coach. (Source: Pro-Football-Reference)</td>
</tr><tr class="odd"><td>stadium_id</td>
<td>ID of the stadium the game was played in. (Source: Pro-Football-Reference)</td>
</tr><tr class="even"><td>game_stadium</td>
<td>Name of the stadium the game was played in. (Source: Pro-Football-Reference)</td>
</tr></tbody></table></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://twitter.com/mrcaseb" class="external-link">Sebastian Carl</a>, <a href="https://twitter.com/benbbaldwin" class="external-link">Ben Baldwin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

